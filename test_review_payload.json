{
  "problem_description": "Refactor the code to remove duplicate code and feature envy while preserving behavior.",
  "original_code": "class TradingService {\n  public String calculateCardValue(Long id) {\n    double value = 0.0;\n    if (id % 2 == 0) {\n      value += 10.5;\n    } else {\n      value += 8.3;\n    }\n    if (id > 100) {\n      value *= 1.2;\n    }\n    return String.format(\"Card ID: %d, Value: %.2f\", id, value);\n  }\n\n  public String calculateTradeValue(Long id) {\n    double value = 0.0;\n    if (id % 2 == 0) {\n      value += 10.5; // Duplicate logic\n    } else {\n      value += 8.3; // Duplicate logic\n    }\n    if (id > 100) {\n      value *= 1.2; // Duplicate logic\n    }\n    return String.format(\"Trade ID: %d, Value: %.2f\", id, value);\n  }\n}",
  "student_code": "class TradingService {\n  public double calculateValue(Long id) {\n    double value = 0.0;\n    if (id % 2 == 0) {\n      value += 10.5;\n    } else {\n      value += 8.3;\n    }\n    if (id > 100) {\n      value *= 1.2;\n    }\n    return value;\n  }\n\n  public String calculateCardValue(Long id) {\n    return String.format(\"Card ID: %d, Value: %.2f\", id, calculateValue(id));\n  }\n\n  public String calculateTradeValue(Long id) {\n    return String.format(\"Trade ID: %d, Value: %.2f\", id, calculateValue(id));\n  }\n}",
  "test_results": "BUILD SUCCESS",
  "answers_list": "class TradingService {\n  public String calculateCardValue(Long id) {\n    return formatValue(id, \"Card ID: %d, Value: %.2f\");\n  }\n\n  public String calculateTradeValue(Long id) {\n    return formatValue(id, \"Trade ID: %d, Value: %.2f\");\n  }\n\n  private String formatValue(Long id, String format) {\n    double value = (id % 2 == 0 ? 10.5 : 8.3);\n    if (id > 100) {\n      value *= 1.2;\n    }\n    return String.format(format, id, value);\n  }\n}",
  "code_smells": [
    "duplicate code"
  ]
}
